(this.webpackJsonpassignment_product=this.webpackJsonpassignment_product||[]).push([[0],{169:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},177:function(e,t,a){},179:function(e,t,a){"use strict";a.r(t);a(93),a(146);var n=a(1),c=a.n(n),r=a(37),s=a.n(r),i=a(55),u=a.n(i),o=a(40),l=a(57),f=(a(169),a.p+"static/media/user.42a50256.svg"),d=a(4),j=function(e){var t=e.data,a=e.refData,n=e.gifClass,c=e.onOpenFullScreen,r=e.onCloseFullScreen;return Object(d.jsxs)("div",{"data-testid":"gif",onClick:c,className:"gif ".concat(n),ref:a,children:[Object(d.jsxs)("div",{className:"gif__img-container",children:[Object(d.jsx)("span",{"data-testid":"gif-close",className:"close-btn",onClick:function(e){e.stopPropagation(),r()}}),Object(d.jsx)("img",Object(l.a)({alt:t.user?t.user.display_name:"No data",src:t.url},"alt",""))]}),Object(d.jsxs)("div",{className:"gif__user-info",children:[Object(d.jsx)("img",Object(l.a)({alt:t.user?t.user.display_name:"No data",src:t.user?t.user.avatar_url:f},"alt","")),Object(d.jsx)("span",{className:"gif__user-name",children:t.user?t.user.display_name:"No data"})]}),Object(d.jsx)("span",{className:"gif__animation first"}),Object(d.jsx)("span",{className:"gif__animation second"}),Object(d.jsx)("span",{className:"gif__animation third"}),Object(d.jsx)("span",{className:"gif__animation fourth"})]})};j.defaultProps={data:{},refData:void 0,gifClass:""};var b=j,p=(a(171),a(172),function(e){var t=e.loading;return Object(d.jsx)(d.Fragment,{children:t&&Object(d.jsxs)("ul",{"data-testid":"loading",className:"loading",children:[Object(d.jsx)("li",{}),Object(d.jsx)("li",{}),Object(d.jsx)("li",{}),Object(d.jsx)("li",{}),Object(d.jsx)("li",{}),Object(d.jsx)("li",{})]})})});p.defaultProps={loading:!1};var O=p,g=a(20),m="GET_GIF_SAGA",v="SET_GIF";var x=function(){var e=Object(n.useState)(1),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(o.a)(r,2),i=s[0],u=s[1],l=Object(n.useState)(!1),f=Object(o.a)(l,2),j=f[0],p=f[1],v=Object(g.c)((function(e){return e.gifData.data?e.gifData.data:[]})),x=Object(g.c)((function(e){return e.gifData.loadMore})),_=Object(g.b)(),h=Object(n.useRef)(),y=Object(n.useCallback)((function(e){j||(h.current&&h.current.disconnect(),h.current=new IntersectionObserver((function(e){e[0].isIntersecting&&x&&c((function(e){return e+1}))})),e&&h.current.observe(e))}),[j,x]);Object(n.useEffect)((function(){var e=!0;return e&&(p(!0),_({type:m,payload:a})),function(){return e=!1}}),[a]),Object(n.useEffect)((function(){setTimeout((function(){p(!1)}),1e3)}),[JSON.stringify(v)]);var N=function(e){return e===i?"selected":""},w=function(e){"Escape"===e.code&&!1!==i&&u(!1)};return Object(n.useEffect)((function(){return document.addEventListener("keydown",w),function(){document.removeEventListener("keydown",w)}}),[i]),Object(d.jsxs)("div",{"data-testid":"app",className:"app",children:[v&&v.map((function(e,t){return v.length===t+1?Object(d.jsx)(b,{onCloseFullScreen:function(){return u(!1)},onOpenFullScreen:function(){u(t)},gifClass:N(t),refData:y,data:e},"gif_".concat(t)):Object(d.jsx)(b,{onCloseFullScreen:function(){return u(!1)},onOpenFullScreen:function(){return u(t)},gifClass:N(t),data:e},"gif_".concat(t))})),Object(d.jsx)(O,{loading:j})]})},_=(a(177),a(16)),h=a(92),y=a(90),N=a(17),w=a.n(N),S=a(59),k=a(27),C=a(91),D=function(){var e=Object(C.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=0,1!==t&&(a=20*(t-1)+1),e.next=5,u.a.get("https://api.giphy.com/v1/gifs/trending",{params:{api_key:"4Begz52ciLZaqYpR3CM9AvJFDDF3maef",limit:20,offset:a}});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),E=w.a.mark(M),F=w.a.mark(I);function M(e){var t,a,n;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(k.a)(D,e.payload);case 2:if(t=c.sent,a=L.getState().gifData.data,!t){c.next=10;break}return n=[].concat(Object(S.a)(a),Object(S.a)(t.data.map((function(e){return{url:e.images["480w_still"].url,user:e.user}})))),c.next=8,Object(k.b)({type:v,payload:{data:n,loadMore:n.length>0}});case 8:c.next=12;break;case 10:return c.next=12,Object(k.b)({type:v,payload:{data:a,loadMore:!1}});case 12:case"end":return c.stop()}}),E)}function I(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.c)(m,M);case 2:case"end":return e.stop()}}),F)}var G={data:[],loadMore:!0},J=Object(_.combineReducers)({gifData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case v:return t.payload;default:return e}}}),T=Object(h.a)(),A=Object(_.createStore)(J,Object(y.composeWithDevTools)(Object(_.applyMiddleware)(T)));T.run(I);var L=A;s.a.render(c.a.createElement(g.a,{store:L},c.a.createElement(x,null)),document.getElementById("root"))}},[[179,1,2]]]);
//# sourceMappingURL=main.4576e4f1.chunk.js.map